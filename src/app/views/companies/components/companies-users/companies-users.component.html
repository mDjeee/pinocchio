<div class="flex flex-col gap-y-5">
  <div class="flex items-center justify-between">
    <p class="text-lg font-medium text-gray-500">Прикреплённые пользователи</p>

    <button
      class="flex gap-x-2 items-center cursor-pointer"
      (click)="attachUser(company)"
    >
      <lucide-icon
        [className]="'text-blue-500'"
        name="user-round-plus"
      ></lucide-icon>
      <div class="text-xs font-medium">Прикрепить пользователя</div>
    </button>
  </div>

  <app-table
    [numbering]="true"
    [columns]="companyUserColumn"
    [data]="users"
    [actionTemplate]="actionTemplate"
  ></app-table>

  <app-paginator></app-paginator>
</div>

<ng-template #actionTemplate let-row>
  <div
    class="w-full h-full cursor-pointer flex items-center justify-center"
    (click)="$event.stopPropagation()" [matMenuTriggerFor]="actionsUsers"
  >
    <app-svg-icon
      [iconName]="'more'"
      className="h-6 w-6 text-[#38AA3D] group-hover:text-green-500 cursor-pointer transition-colors"
    ></app-svg-icon>
  </div>
  <mat-menu #actionsUsers="matMenu" xPosition="before" class="menu-actions">
    <button
      (click)="detachUser(row)"
      class="w-full p-2 flex gap-x-2 items-center cursor-pointer"
    >
      <lucide-icon
        name="user-round-minus"
      ></lucide-icon>
      <div class="text-xs">Открепить</div>
    </button>
  </mat-menu>
</ng-template>
